<!DOCTYPE html>
<html lang="zh_ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js1stlesson</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <main>
        <div class="divwrapper" id="mainxxx">

        </div>
    </main>

</body>
<script>
    keys={
        '0':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
        '1':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
        '2':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
        length:3
    }
    hash={
        q:'qq.com',
        w:'weibo.com',
        e:'edge.com',
        r:'renren.com',
        t:'tianya.com',
        y:'youtebe.com',
        u:'uc.com',
        i:'iqiyi.com',
        o:undefined,
        p:'pet.com',
        a:'acfun.com',
        m:'money.com',
        n:'nanjin.com',
        d:'douyu.co,',
        z:'zhihu.com',
    }
    //取出 localStorage 中的uuu 对应的 hash
    hashInLocalStorage = JSON.parse(localStorage.getItem('uuu')||'null')
    if(hashInLocalStorage){
        hash = hashInLocalStorage
    }
    index=0;
    while(index<keys['length']){//0 1 2
        divxxx=document.createElement('div')
        mainxxx.appendChild(divxxx)
        row = keys[index]
        console.log('row value is'+'='+row)
        index2=0
        i=0
        while(i< row['length'] ) {
            kbdxxx=document.createElement('kbd')
            kbdxxx.textContent=row[i]
            
            //用户可编辑
            buttonxxx=document.createElement('button')
            buttonxxx.textContent='编辑'
            kbdxxx.appendChild(buttonxxx)

            buttonxxx.id=row[i]
            buttonxxx.onclick=function (xzkjcnxlkcjlk) {
                console.log(xzkjcnxlkcjlk['target']['id'])
                key=xzkjcnxlkcjlk['target']['id']
                x = prompt('give me a website')
                hash[key] = x //hash 变更
                localStorage.setItem('uuu',JSON.stringify(hash))
                console.log(hash)
            }

            divxxx.appendChild(kbdxxx)
            i =i+1
           console.log('index2是'+index2)
        }
        index= index+1;
        console.log('index values is' + index)
    }

        //监听用户按键
        document.onkeypress=function(xzkjcnxlkcjlk){
        console.log('you pressed the key is')
        console.log(xzkjcnxlkcjlk['key'])

        key=xzkjcnxlkcjlk['key']
        website=hash[key]

        console.log(website)
        //location.href = 'http://'+website;
        window.open('http://'+website,'_blank')
        }
</script>
</html>
